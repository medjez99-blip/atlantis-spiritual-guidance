<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Atlantis | Spiritual Guidance</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Language Switcher -->
    <div class="language-switcher">
        <button id="lang-en" class="lang-btn active">EN</button>
        <button id="lang-ar" class="lang-btn">العربية</button>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <h1 data-i18n="site_name">Atlantis</h1>
                <span class="subtitle" data-i18n="site_subtitle">Spiritual Guidance</span>
            </div>
            <ul class="nav-menu">
    <li><a href="#" data-i18n="nav_home">Home</a></li>
    <li><a href="#meditations" data-i18n="nav_meditations">Meditations</a></li>
    <li><a href="#wisdom" data-i18n="nav_wisdom">Wisdom Library</a></li>
    <li><a href="#community" data-i18n="nav_community">Community</a></li>
    <li class="nav-admin" style="display: none;">
        <a href="pages/admin.html" data-i18n="nav_admin">Admin</a>
    </li>
    <li class="nav-auth">
        <a href="pages/login.html" data-i18n="nav_login">Login</a>
        <button id="logout-btn" class="btn-outline" style="display: none;" data-i18n="nav_logout">Logout</button>
    </li>
</ul>
            <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <header class="hero">
        <div class="hero-content">
            <h2 data-i18n="hero_title">Find Your Inner Peace</h2>
            <p data-i18n="hero_subtitle">Journey through ancient wisdom and modern spiritual practices</p>
            <button class="btn-primary" id="open-journey-modal" data-i18n="hero_cta">Begin Your Journey</button>
        </div>
        <div class="hero-image">
    <div class="sacred-geometry">
        <img src="assets/icons/icon-152x152.png" alt="Atlantis Spiritual Icon" class="sacred-geometry-icon">
    </div>
</div>
    </header>

    <!-- Features Section -->
    <section class="features">
        <div class="container">
            <h3 data-i18n="features_title">Our Spiritual Offerings</h3>
            <div class="features-grid">
                <div class="feature-card">
                    <i class="fas fa-moon"></i>
                    <h4 data-i18n="feature1_title">Guided Meditations</h4>
                    <p data-i18n="feature1_desc">Daily mindfulness sessions for inner peace</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-book-open"></i>
                    <h4 data-i18n="feature2_title">Sacred Texts</h4>
                    <p data-i18n="feature2_desc">Access to wisdom from spiritual traditions</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-users"></i>
                    <h4 data-i18n="feature3_title">Community Circles</h4>
                    <p data-i18n="feature3_desc">Connect with like-minded seekers</p>
                </div>
                <div class="feature-card">
                    <i class="fas fa-chart-line"></i>
                    <h4 data-i18n="feature4_title">Spiritual Growth Tracking</h4>
                    <p data-i18n="feature4_desc">Monitor your spiritual journey</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Daily Wisdom -->
    <section class="daily-wisdom">
        <div class="container">
            <h3 data-i18n="wisdom_title">Wisdom of the Day</h3>
            <div class="wisdom-card">
                <p id="wisdom-text" data-i18n="daily_wisdom">"The soul always knows what to do to heal itself. The challenge is to silence the mind."</p>
                <p class="wisdom-author" data-i18n="wisdom_author">— Caroline Myss</p>
            </div>
            <div class="user-status" id="user-status">
                <p data-i18n="guest_message">You are browsing as a guest. <a href="pages/login.html" data-i18n="login_link">Login</a> for personalized guidance.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h4 data-i18n="site_name">Atlantis</h4>
                    <p data-i18n="footer_tagline">A sanctuary for spiritual growth</p>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer_quick_links">Quick Links</h4>
                    <ul>
                        <li><a href="#" data-i18n="nav_meditations">Meditations</a></li>
                        <li><a href="#" data-i18n="nav_wisdom">Wisdom Library</a></li>
                        <li><a href="pages/login.html" data-i18n="nav_login">Login</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer_contact">Contact</h4>
                    <p data-i18n="footer_email">contact@atlantis-spiritual.com</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; <span id="current-year"></span> Atlantis Spiritual Guidance. <span data-i18n="footer_rights">All rights reserved.</span></p>
            </div>
        </div>
    </footer>
<!-- Journey Path Modal -->
<div class="modal" id="journey-modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2 data-i18n="journey_modal_title">Begin Your Spiritual Journey</h2>
            <button class="modal-close">&times;</button>
        </div>
        <div class="modal-body">
            <div class="journey-steps">
                <!-- Step 1 -->
                <div class="journey-step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3 data-i18n="step1_title">Create Your Account</h3>
                        <p data-i18n="step1_desc">Sign up for free and create your personal spiritual profile</p>
                    </div>
                </div>
                
                <!-- Step 2 -->
                <div class="journey-step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3 data-i18n="step2_title">Choose Your Path</h3>
                        <p data-i18n="step2_desc">Select from our spiritual services that resonate with you</p>
                        <div class="service-options">
                            <div class="service-option">
                                <i class="fas fa-moon"></i>
                                <span data-i18n="service_meditation">Guided Meditations</span>
                            </div>
                            <div class="service-option">
                                <i class="fas fa-book-open"></i>
                                <span data-i18n="service_wisdom">Wisdom Library</span>
                            </div>
                            <div class="service-option">
                                <i class="fas fa-users"></i>
                                <span data-i18n="service_community">Community Circles</span>
                            </div>
                            <div class="service-option">
                                <i class="fas fa-chart-line"></i>
                                <span data-i18n="service_tracking">Growth Tracking</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Step 3 -->
                <div class="journey-step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3 data-i18n="step3_title">Set Your Intentions</h3>
                        <p data-i18n="step3_desc">Define your spiritual goals and daily practice preferences</p>
                        <div class="intention-selection">
                            <div class="intention-option" data-intention="mindfulness">
                                <i class="fas fa-brain"></i>
                                <span data-i18n="intention_mindfulness">Mindfulness</span>
                            </div>
                            <div class="intention-option" data-intention="compassion">
                                <i class="fas fa-heart"></i>
                                <span data-i18n="intention_compassion">Compassion</span>
                            </div>
                            <div class="intention-option" data-intention="growth">
                                <i class="fas fa-seedling"></i>
                                <span data-i18n="intention_growth">Personal Growth</span>
                            </div>
                            <div class="intention-option" data-intention="balance">
                                <i class="fas fa-balance-scale"></i>
                                <span data-i18n="intention_balance">Balance</span>
                            </div>
                        </div>
                        <div class="selected-intention" style="display: none;">
                            <span data-i18n="selected_intention">Selected:</span>
                            <span id="selected-intention-text"></span>
                        </div>
                    </div>
                </div>
                
                <!-- Step 4 -->
                <div class="journey-step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3 data-i18n="step4_title">Begin Your Practice</h3>
                        <p data-i18n="step4_desc">Start with guided sessions and track your progress</p>
                        <div class="practice-tips">
                            <div class="tip">
                                <i class="fas fa-calendar-check"></i>
                                <span data-i18n="tip_daily">Daily 10-minute practice</span>
                            </div>
                            <div class="tip">
                                <i class="fas fa-journal-whills"></i>
                                <span data-i18n="tip_journal">Keep a spiritual journal</span>
                            </div>
                            <div class="tip">
                                <i class="fas fa-comments"></i>
                                <span data-i18n="tip_community">Join community discussions</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="js/supabase.js"></script>
<script src="js/utils.js"></script>
<script src="js/auth.js"></script>
<script src="js/forms.js"></script>
<script>
// Global flag to track redirect state
window.authRedirected = false;
    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
        document.getElementById('current-year').textContent = new Date().getFullYear();
        
        // Wait a bit for auth to initialize, then update UI
        setTimeout(() => {
            if (window.auth && typeof window.auth.updateAuthUI === 'function') {
                window.auth.updateAuthUI();
            } else {
                console.warn('Auth not initialized properly');
                // Fallback: update the user status manually
                const userStatus = document.getElementById('user-status');
                if (userStatus) {
                    userStatus.innerHTML = '<p>' + window.t('guest_message') + '</p>';
                }
            }
        }, 500);
    });
document.addEventListener('DOMContentLoaded', function() {
    // Get modal elements
    const journeyModal = document.getElementById('journey-modal');
    const openModalBtn = document.getElementById('open-journey-modal');
    const closeModalBtn = document.querySelector('.modal-close');
    
    // Modal open/close functions
    function openModal() {
        journeyModal.style.display = 'block';
        document.body.style.overflow = 'hidden';
        document.body.style.paddingRight = getScrollbarWidth() + 'px';
    }
    
    function closeModal() {
        journeyModal.style.display = 'none';
        document.body.style.overflow = 'auto';
        document.body.style.paddingRight = '0';
    }
    
    // Calculate scrollbar width to prevent layout shift
    function getScrollbarWidth() {
        return window.innerWidth - document.documentElement.clientWidth;
    }
    
    // Open modal when button is clicked
    if (openModalBtn) {
        openModalBtn.addEventListener('click', openModal);
    }
    
    // Close modal when close button is clicked
    if (closeModalBtn) {
        closeModalBtn.addEventListener('click', closeModal);
    }
    
    // Close modal when clicking outside the modal content
    journeyModal.addEventListener('click', function(event) {
        if (event.target === journeyModal) {
            closeModal();
        }
    });
    
    // Close modal with Escape key
    document.addEventListener('keydown', function(event) {
        if (event.key === 'Escape' && journeyModal.style.display === 'block') {
            closeModal();
        }
    });
    
    // Step 3: Intention selection (keep this functionality)
    const intentionOptions = document.querySelectorAll('.intention-option');
    const selectedIntentionDiv = document.querySelector('.selected-intention');
    const selectedIntentionText = document.getElementById('selected-intention-text');
    
    intentionOptions.forEach(option => {
        option.addEventListener('click', function() {
            // Remove selected class from all options
            intentionOptions.forEach(opt => opt.classList.remove('selected'));
            
            // Add selected class to clicked option
            this.classList.add('selected');
            
            // Get the intention text
            const intention = this.querySelector('span').textContent;
            selectedIntentionText.textContent = intention;
            
            // Show the selected intention display
            selectedIntentionDiv.style.display = 'flex';
            
            // Save to localStorage for later use
            localStorage.setItem('selectedIntention', this.getAttribute('data-intention'));
        });
    });
    
    // Load previously selected intention if any
    const savedIntention = localStorage.getItem('selectedIntention');
    if (savedIntention) {
        const intentionOption = document.querySelector(`.intention-option[data-intention="${savedIntention}"]`);
        if (intentionOption) {
            intentionOption.classList.add('selected');
            selectedIntentionText.textContent = intentionOption.querySelector('span').textContent;
            selectedIntentionDiv.style.display = 'flex';
        }
    }
});
    </script>
<script>
    // Mobile menu toggle functionality
    document.addEventListener('DOMContentLoaded', () => {
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');
        
        if (hamburger && navMenu) {
            hamburger.addEventListener('click', () => {
                // Toggle active class on hamburger
                hamburger.classList.toggle('active');
                
                // Toggle active class on nav menu
                navMenu.classList.toggle('active');
                
                // Optional: Prevent body scroll when menu is open
                document.body.style.overflow = navMenu.classList.contains('active') ? 'hidden' : '';
            });
            
            // Close menu when clicking on a link (optional)
            const navLinks = document.querySelectorAll('.nav-menu a');
            navLinks.forEach(link => {
                link.addEventListener('click', () => {
                    hamburger.classList.remove('active');
                    navMenu.classList.remove('active');
                    document.body.style.overflow = '';
                });
            });
        }
    });
</script>
</body>
</html>